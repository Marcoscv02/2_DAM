[[2. JavaRuntimeClass]]
### Apuntes de Procesos de Programaci√≥n

### 1. Conceptos B√°sicos

- **Programas**: Un programa es un conjunto de instrucciones que permite realizar una tarea espec√≠fica en un sistema inform√°tico. Puede estar en forma de c√≥digo fuente (legible por humanos) o ser compilado en un archivo ejecutable.
- **Procesos**: Un proceso es la instancia de un programa. Es un **programa en ejecuci√≥n** que reside en la memoria principal y es gestionado por el sistema operativo. Un programa puede tener m√∫ltiples instancias (procesos) ejecut√°ndose al mismo tiempo.
- **Hilos (Threads)**: Los hilos son **subtareas** de un proceso que pueden ejecutarse de forma concurrente. Cada hilo tiene su propio contador de programa, pila y registros, pero comparten el espacio de memoria del proceso.
![[Pasted image 20250213100130.png]]

---

### 2. Gesti√≥n de Procesos

- **Componentes de un Proceso**:
    
    - **Identificador**: Un identificador √∫nico para cada proceso.
    - **Estado**: Un proceso puede estar en diferentes estados como _listo_, _en ejecuci√≥n_, _en espera_, o _terminado_.
    - **Prioridad**: Determina el orden en que los procesos ser√°n ejecutados por el procesador.
    - **Contador de Programa**: Indica la siguiente instrucci√≥n a ejecutar.
    - **Puntero de Memoria**: Se√±ala al c√≥digo del programa y los datos asociados.
    - **Contexto**: Datos intermedios almacenados en los registros del procesador.
    - **Estado de I/O**: Informaci√≥n sobre los dispositivos de entrada/salida requeridos por el proceso.
    - **Informaci√≥n de Contabilidad**: Incluye el tiempo de CPU utilizado por el proceso.
    - **Pila y Heap**: La pila almacena variables locales y llamadas de subrutinas, mientras que el heap almacena objetos creados din√°micamente.
    
    ![[Pasted image 20250213100142.png]]
    

### **Proccess Control Block (PCB)**

<aside style="border: 2px solid purple; padding: 10px; border-radius: 5px;"> üìñ
Un <b>PCB</b> es una estructura de datos utilizada por el sistema operativo para mantener toda la informaci√≥n necesaria sobre un proceso. Permite la <b>multiprogramaci√≥n</b> y garantiza que, en caso de interrupci√≥n, un proceso pueda reanudar su ejecuci√≥n sin perder datos.
</aside>

### **Estados de un Proceso**

- **Nuevo**: El proceso est√° siendo creado.
- **Listo**: El proceso est√° esperando ser ejecutado.
- **Ejecutando**: El proceso est√° siendo ejecutado por el CPU.
- **Espera**: El proceso est√° esperando alg√∫n recurso.
- **Terminado**: El proceso ha finalizado su ejecuci√≥n.

![[Pasted image 20250213100200.png]]

---

### 3. **Threads(Hilos)**

- Un proceso puede contener uno o m√°s **hilos**. Los hilos dentro de un proceso comparten el mismo espacio de direcciones, memoria y recursos. Un proceso **monohilo** contiene solo un hilo, mientras que un proceso **multihilo** contiene varios hilos.

### **Ventajas y desventajas de los hilos**:

- ‚úÖ**Ventajas**:
    - Menor sobrecarga que los procesos.
    - F√°cil comunicaci√≥n entre hilos.
- ‚ùå**Desventajas**:
    - Un fallo en un hilo puede afectar a todo el proceso.

### **Memoria en Hilos**:

- **Pila**: Memoria exclusiva de cada hilo.
- **Heap**: Memoria compartida entre todos los hilos de un proceso.

---

### 4. Servicios

- Los **servicios** son procesos que proporcionan funciones a otros procesos, generalmente ejecut√°ndose en segundo plano sin interacci√≥n directa con el usuario.
- Los servicios pueden comunicarse a trav√©s de redes utilizando protocolos como **TCP** o **UDP**.

---

### 5. Concurrencia y Paralelismo

- **Concurrencia**: La habilidad de gestionar m√∫ltiples tareas a la vez, pero no necesariamente ejecutarlas simult√°neamente.
- **Paralelismo**: La habilidad de ejecutar m√∫ltiples tareas al mismo tiempo en varios n√∫cleos de CPU.

|Tipo de Ejecuci√≥n|Descripci√≥n|
|---|---|
|Concurrencia|Manejar varias tareas a la vez.|
|Paralelismo|Ejecutar varias tareas simult√°neamente.|
|Ninguno|Procesa una tarea a la vez.|
|Ambos|Procesa tareas simult√°neamente y de forma concurrente.|

![[Pasted image 20250213100216.png]]

### **Contexto de Concurrencia**

<aside style="border: 2px solid purple; padding: 10px; border-radius: 5px;"> üìñ
- En sistemas concurrentes, las tareas pueden <b>progresar simult√°neamente</b> sin ser ejecutadas exactamente al mismo tiempo. 
- </aside>

---

### 6. Cambio de Contexto

El **cambio de contexto** ocurre cuando el sistema operativo guarda el estado de un proceso o hilo y carga el estado de otro, permitiendo compartir un √∫nico CPU entre m√∫ltiples procesos.

---

### 7. Multiprogramaci√≥n y Multitarea

- **Multiprogramaci√≥n**: Capacidad de un sistema para ejecutar m√°s de un programa al mismo tiempo en un procesador.
    
    ![[Pasted image 20250213100234.png]]
    
- **Multitarea**: Capacidad para ejecutar m√∫ltiples tareas de forma simult√°nea, aunque el CPU solo ejecute una tarea a la vez (aparente simultaneidad).

![[Pasted image 20250213100249.png]]

- **Multihilo**: Ejecuci√≥n de diferentes partes de un programa (hilos) al mismo tiempo.

![[Pasted image 20250213100307.png]]

---

### 8. Programaci√≥n Distribuida

La **programaci√≥n distribuida** permite que m√∫ltiples dispositivos trabajen juntos para resolver una tarea com√∫n, mejorando el uso de recursos y la tolerancia a fallos.

---

### 9. Pools de Hilos

Los **pools de hilos** permiten gestionar la ejecuci√≥n de m√∫ltiples tareas asignando hilos de trabajo que se reciclan una vez completada la tarea.

### **Sincronizaci√≥n y Bloqueos**:

- Los **bloqueos** son mecanismos de sincronizaci√≥n que permiten restringir el acceso a recursos compartidos en un entorno multihilo, como un **mutex**.

---

### 10. Problemas en Hilos M√∫ltiples ‚ùó

- <span style="color:rgb(192, 0, 0)">Deadlock</span>: Dos o m√°s hilos no pueden avanzar porque esperan recursos que est√°n bloqueados por los dem√°s.
- <span style="color:rgb(192, 0, 0)">Condiciones de Carrera</span>: Cuando varios hilos acceden a recursos compartidos sin la debida sincronizaci√≥n, el resultado final depende del orden de ejecuci√≥n de los hilos.
- <span style="color:rgb(192, 0, 0)">Inanici√≥n</span>: Un hilo no obtiene acceso a los recursos porque otros hilos consumen los recursos de forma continua.
- <span style="color:rgb(192, 0, 0)">Livelock</span>: Dos hilos no pueden avanzar porque continuamente responden a las acciones del otro sin hacer progresos reales.

---