# **1. Introducci贸n a la Clase Gson**

- **Gson** es una clase principal para trabajar con la conversi贸n entre objetos Java y JSON.
- Permite la **serializaci贸n** (convertir objetos Java a JSON) y la **deserializaci贸n** (convertir JSON a objetos Java).

---

# **2. Creaci贸n de una Instancia de Gson**

Existen dos formas principales para crear una instancia de la clase `Gson`:

## **2.1. Creaci贸n con `new Gson()`**

- **Sintaxis simple**:
    
    ```java
    Gson gson = new Gson();
    ```
    


<span style="color:green">Se usa cuando se desea trabajar con la **configuraci贸n predeterminada** de Gson.</span>


## **2.2. Creaci贸n con `GsonBuilder.create()`**

- **GsonBuilder** permite personalizar la configuraci贸n antes de crear el objeto `Gson`.
    
- Ejemplo de c贸digo:
    
    ```java
    Gson gson = new GsonBuilder()
        .registerTypeAdapter(Id.class, new IdTypeAdapter())
        .serializeNulls()
        .setDateFormat(DateFormat.LONG)
        .setFieldNamingPolicy(FieldNamingPolicy.UPPER_CAMEL_CASE)
        .setPrettyPrinting()
        .setVersion(1.0)
        .create();
    ```
    
- El m茅todo `create()` genera el objeto `Gson` despu茅s de configurar diversas opciones.
    

<span style="color:green">Se usa cuando se desea trabajar con la **configuraci贸n predeterminada** de Gson.</span>

## **2.3. Configuraci贸n Predeterminada y Personalizaci贸n**

- **Configuraci贸n predeterminada** de Gson:
    - Serializaci贸n y deserializaci贸n para clases comunes como `java.util.Date`, `java.net.URL`, entre otras.
    - Por defecto, omite los **campos nulos** en la serializaci贸n, pero los **conserva en los arrays**.
    - El formato de fecha es el predeterminado de `java.text.DateFormat`.
    - Usa la convenci贸n de **nombres de campos de Java** en la salida JSON (ej. `versionNumber`).
    - El formato JSON generado es compacto, sin espacios en blanco innecesarios.
- **Opciones de configuraci贸n personalizadas**:
    - **Campos nulos**: `GsonBuilder.serializeNulls()`
    - **Formato de fecha**: `GsonBuilder.setDateFormat(int)` o `GsonBuilder.setDateFormat(String)`
    - **Pol铆tica de nombres de campos**: `GsonBuilder.setFieldNamingPolicy(FieldNamingPolicy)`
    - **Formato de presentacion**: `GsonBuilder.setPrettyPrinting()`
    - **Manejo de versiones**: `GsonBuilder.setVersion(double)`
    - **Anotaciones `@Expose`**: `GsonBuilder.excludeFieldsWithoutExposeAnnotation()`

---

# **3. Conversi贸n entre Primitivas JSON y sus Equivalentes Java: `fromJson()` y `toJson()`**

- **M茅todo `fromJson()`**: Convierte una cadena JSON a un objeto Java.
- **M茅todo `toJson()`**: Convierte un objeto Java a JSON.

### **Ejemplo de C贸digo:**

```java
import com.google.gson.Gson;
import com.google.gson.GsonBuilder;
import static java.lang.System.*;

public class GsonDemo {
    public static void main(String[] args) {
        Gson gson = new Gson();

        // Deserializaci贸n de una cadena JSON
        String nome = gson.fromJson("\\"Sylvia Plath\\"", String.class);
        out.println(nome);  // Salida: Sylvia Plath

        // Serializaci贸n de un entero
        gson.toJson(256, out);  // Salida: 256
        out.println();

        // Serializaci贸n de una cadena de texto
        gson.toJson("<html>", out);  // Salida: "<html>"
        out.println();

        // Gson personalizado (deshabilitando el escapado de HTML)
        gson = new GsonBuilder().disableHtmlEscaping().create();
        gson.toJson("<html>", out);  // Salida: <html> (sin escape)
        out.println();
    }
}
```

### **Explicaci贸n**:

1. **Deserializaci贸n**:
    - `fromJson("\\"Sylvia Plath\\"", String.class)` convierte el texto JSON `"Sylvia Plath"` en un objeto Java de tipo `String`.
2. **Serializaci贸n**:
    - `toJson(256, out)` convierte el entero `256` en un valor JSON y lo imprime.
    - `toJson("<html>", out)` convierte la cadena `<html>` en un formato JSON. Por defecto, los caracteres especiales como `<` y `>` son escapados.
3. **Gson Personalizado**:
    - `disableHtmlEscaping()` evita que Gson escape los caracteres especiales en las cadenas. En el ejemplo, el texto `<html>` se imprime tal cual, sin ser escapado a `&lt;html&gt;`.

---

# **Resumen de M茅todos Clave**:

- **`fromJson()`**: Convierte JSON a objeto Java.
    - **Sintaxis**: `fromJson(String json, Class<T> classOfT)`
- **`toJson()`**: Convierte objeto Java a JSON.
    - **Sintaxis**: `toJson(Object src, Appendable writer)`

Con estos m茅todos puedes convertir f谩cilmente entre JSON y objetos Java utilizando la biblioteca Gson.